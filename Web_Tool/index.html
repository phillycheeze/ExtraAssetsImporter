<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ExtraAssetsImporter Web Tool</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
</head>
<body>
  <h1>ExtraAssetsImporter Asset Generator</h1>
  <div class="main">
    <div class="input-area">
      <form id="assetForm">
        <label>Asset Type:<span class="info" title="Choose 'Decal' for decal.json assets or 'Surface' for surface.json assets">ℹ️</span>
          <select id="assetType">
            <option value="Decals">Decal</option>
            <option value="Surfaces">Surface</option>
          </select>
        </label>
        <fieldset id="categoryFieldset">
          <legend>Category <span class="info" title="Select the asset category/subfolder">ℹ️</span></legend>
          <!-- radio buttons populated dynamically -->
        </fieldset>
        <div>
        <label>Asset Name:<span class="info" title="Folder name and displayed name for the asset">ℹ️</span> <input type="text" id="assetName" required></label>
        <label>UI Priority:<span class="info" title="Lower numbers render earlier in the UI">ℹ️</span> <input type="number" id="uiPriority" value="0"></label>
        </div>
        <div id="surfaceOptions" style="display:none;">
          <label>Roundness:<span class="info" title="Surface edge roundness (0 to 1), higher is smoother">ℹ️</span> <input type="number" id="roundness" step="0.01" value="0.5"></label>
        </div>
        <fieldset>
          <legend>Upload Image</legend>
          <label>Your Image: <input type="file" id="baseColor" accept="image/png" required><span class="info" title="Upload one image; we'll auto-generate all game textures">ℹ️</span>
            <p class="description">Your photo will produce the base color, normal, mask, and icon textures.<p>
          </label>
        </fieldset>
        <fieldset id="maskProfileFieldset">
          <legend>Mask Style</legend>
          <label><input type="radio" name="maskProfile" value="natural" checked> Natural Detail
            <p class="description">Preserves original shadows and highlights for a realistic finish.</p>
          </label>
          <label><input type="radio" name="maskProfile" value="silhouette"> Bold Silhouette
            <p class="description">Converts image to clear black-and-white shapes; great for crisp outlines.</p>
          </label>
          <label><input type="radio" name="maskProfile" value="reflective"> Reflective Highlights
            <p class="description">Enhances bright areas for shiny or wet surfaces like metal or water.</p>
          </label>
          <label><input type="radio" name="maskProfile" value="matte"> Subtle Matte
            <p class="description">Soft gray mask for low-contrast, muted surfaces like dirt or concrete.</p>
          </label>
        </fieldset>
        <fieldset id="normalFieldset">
          <legend>Surface Detail</legend>
          <label><input type="checkbox" id="generateNormal" checked> Add 3D Lighting
            <p class="description">Simulates bumps and reflections for more depth and realism.</p>
          </label>
        </fieldset>
      </form>
    </div><!-- .input-area -->
    
    <div class="preview-area">
      <h2 class="margin-top: 0;">Previews</h2>
      <div id="previewArea">
        <!-- First row: Base Color and Icon -->
        <div class="preview-box"><h3>Original (Base Color)</h3><canvas id="previewOriginal"></canvas><div class="loader"></div></div>
        <div class="preview-box" style="height:128px; width:128px;"><h3>Icon (128×128)</h3><canvas id="previewIcon" width="128" height="128"></canvas><div class="loader"></div></div>
        <!-- Second row: Normal Map and Mask Map -->
        <div class="preview-box"><h3>Normal Map</h3><canvas id="previewNormal"></canvas><div class="loader"></div></div>
        <div class="preview-box"><h3>Mask Map</h3><canvas id="previewMask"></canvas><div class="loader"></div></div>
        <!-- Download button -->
        <div class="preview-actions"><button type="button" id="generateBtn">Download ZIP</button></div>
      </div>
    </div><!-- .preview-area -->
  </div><!-- .main -->
  <details>
    <summary>Advanced JSON</summary>
    <textarea id="jsonEditor" style="width:100%;height:300px;"></textarea>
  </details>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <script src="script.js"></script>
</body>
</html> 